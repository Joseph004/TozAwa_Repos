@inherits BaseComponentLayout
@implements IDisposable
@namespace TozawaNGO.Shared
@using TozawaNGO.Helpers

<MudThemeProvider Theme="_currentTheme" />
<MudSnackbarProvider />

<MudDialogProvider FullWidth="true" MaxWidth="MaxWidth.ExtraSmall" CloseButton="true" DisableBackdropClick="false"
    NoHeader="false" Position="DialogPosition.TopCenter" />

<MudLayout @onkeypress="RefreshTimer" Class="@($"mainpage {_disableAttrString}")" @onmousemove="RefreshTimer">
    <AppBar OnSidebarToggled="ToggleSidebar" OnThemeToggled="ToggleTheme" />

    <NavMenu SideBarOpen="_sidebarOpen" />
    <LoadingScreen>
        <MudMainContent Class="tz-main pageBody pt-16 px-16">
            <MudContainer Class="tz_content mt-3">
                <ErrorBoundary @ref="_errorBoundary">
                    <ChildContent>
                        @Body
                    </ChildContent>
                    <ErrorContent Context="ex">
                        <MudPaper Class="pa-4" Style="@($"background: var(--mud-palette-error);")">
                            <MudText>
                                @OnError(@ex);
                            </MudText>
                        </MudPaper>
                    </ErrorContent>
                </ErrorBoundary>
                <Footer></Footer>
            </MudContainer>
        </MudMainContent>
    </LoadingScreen>
</MudLayout>
