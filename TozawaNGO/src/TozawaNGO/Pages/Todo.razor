@page "/todo"
@namespace TozawaNGO.Pages
@inherits BasePage
@implements IDisposable

<h1>Todo (@todos.Count(todo => !todo.IsDone))</h1>

@foreach (var todo in todos)
{
    <div class="input-groupmb-3">
        <div class="input-group-prepend">
            <div class="input-group-text">
                <input type="checkbox" checked="@todo.IsDone" @onchange="@(args => HandleTodoDoneAsync(args,todo))" />
            </div>
            <button class="btnbtn-outline-secondary" type="button" @onclick="@(args => HandleDeleteTodoAsync(todo))">
                <span class="oioi-trash" aria-hidden="true"></span>
            </button>
        </div>
        <input class="form-control" value="@todo.Title" @onchange="@(args => HandleTodoTitleChangeAsync(args,todo))" />
    </div>
}
<input placeholder="Somethingtodo" value="@ToDoState.Value.NewItem" @oninput="@(args => OnItemEnter())" />
<button @onclick="@(args=>AddTodoAsync())">AddTodo</button>