@namespace TozawaMauiHybrid.Component
@using TozawaMauiHybrid.Helpers
@using Microsoft.AspNetCore.Components
@using Microsoft.AspNetCore.Components.Authorization
@inject NavigationManager NavManager
@inherits BaseComponent<AppBar>


<ErrorHandling TCategoryName=@typeof(AppBar)>
    <ChildContent>
        <MudAppBar Class="flex-none d-flex" Style="height: 60px; max-height: 60px;" Elevation="3">
            @if (FirstloadState.IsFirstLoaded)
            {
                <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start"
                    OnClick="ToggleSideBar" />
                @if (_showLogo)
                {
                    <MudButton Href="/" Color="Color.Inherit">
                        <img src="/images/TR_Mini.png" asp-append-version="true" height="60px" width="150px" />
                    </MudButton>
                }
                <MudSpacer />

                @if (DeviceInfo.Platform == DevicePlatform.WinUI)
                {
                    <MudText Class="appbarTitle">
                        <SystemText TextId=SystemTextId.ToZawaTitle Style="font-familly: cursive; font-size: max(1.2vw, 13px)"
                            SystemTextTypo=Typo.h2
                            FallbackText="Svensk Förening för internationella arbete inom teknik och informatik">
                        </SystemText>
                    </MudText>

                    <MudSpacer />
                }
                <LanguageSelection />
                <Login />
            }
        </MudAppBar>
    </ChildContent>
    <ErrorContent Context="ex">
        @string.Empty
    </ErrorContent>
</ErrorHandling>