@inherits BaseComponent
@namespace TozAwaHome.Shared
@implements IDisposable

<MudMenu AnchorOrigin="@Origin.BottomCenter" TransformOrigin="@Origin.TopCenter" Class="mr-5 mb-1" MaxHeight="500"
    Icon="@Icons.Material.Filled.ArrowDropDown" Color="Color.Inherit" Dense="true">
    <ActivatorContent>
        <MudTooltip Class="pa-0 ma-0 opaque">
            <ChildContent>
                <i class="flag-icon flag-icon-@Language"></i>
            </ChildContent>
            <TooltipContent>
                <MudText>@GetTitle(ActiveLanguage)</MudText>
            </TooltipContent>
        </MudTooltip>
    </ActivatorContent>
    <ChildContent>
        @foreach (var language in ActiveLanguages)
        {
            <MudTooltip Class="pa-0 ma-0 opaque">
                <ChildContent>
                    <MudMenuItem OnClick="() => ChangeActiveLanguage(language.Id)">
                        <i class="flag-icon flag-icon-@GetShortName(language)"></i>
                    </MudMenuItem>
                </ChildContent>
                <TooltipContent>
                    <MudText>@GetTitle(language)</MudText>
                </TooltipContent>
            </MudTooltip>
        }
    </ChildContent>
</MudMenu>